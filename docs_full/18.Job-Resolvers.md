<details>
<summary>Relevant source files</summary>

The following files were used as context for generating this wiki page:

- [ArWikiCats/jsons/jobs/activists_keys.json](../ArWikiCats/jsons/jobs/activists_keys.json)
- [ArWikiCats/new/handle_suffixes.py](../ArWikiCats/new/handle_suffixes.py)
- [ArWikiCats/new_resolvers/jobs_resolvers/mens.py](../ArWikiCats/new_resolvers/jobs_resolvers/mens.py)
- [ArWikiCats/new_resolvers/jobs_resolvers/utils.py](../ArWikiCats/new_resolvers/jobs_resolvers/utils.py)
- [ArWikiCats/new_resolvers/jobs_resolvers/womens.py](../ArWikiCats/new_resolvers/jobs_resolvers/womens.py)
- [ArWikiCats/new_resolvers/nationalities_resolvers/ministers_resolver.py](../ArWikiCats/new_resolvers/nationalities_resolvers/ministers_resolver.py)
- [ArWikiCats/translations/__init__.py](../ArWikiCats/translations/__init__.py)
- [ArWikiCats/translations/build_data/__init__.py](../ArWikiCats/translations/build_data/__init__.py)
- [ArWikiCats/translations/funcs.py](../ArWikiCats/translations/funcs.py)
- [ArWikiCats/translations/geo/__init__.py](../ArWikiCats/translations/geo/__init__.py)
- [ArWikiCats/translations/geo/labels_country.py](../ArWikiCats/translations/geo/labels_country.py)
- [ArWikiCats/translations/jobs/Jobs.py](../ArWikiCats/translations/jobs/Jobs.py)
- [ArWikiCats/translations/jobs/Jobs2.py](../ArWikiCats/translations/jobs/Jobs2.py)
- [ArWikiCats/translations/jobs/jobs_data_basic.py](../ArWikiCats/translations/jobs/jobs_data_basic.py)
- [ArWikiCats/translations/jobs/jobs_players_list.py](../ArWikiCats/translations/jobs/jobs_players_list.py)
- [ArWikiCats/translations/jobs/jobs_singers.py](../ArWikiCats/translations/jobs/jobs_singers.py)
- [ArWikiCats/translations/jobs/jobs_womens.py](../ArWikiCats/translations/jobs/jobs_womens.py)
- [ArWikiCats/translations/mixed/all_keys2.py](../ArWikiCats/translations/mixed/all_keys2.py)
- [ArWikiCats/translations/mixed/female_keys.py](../ArWikiCats/translations/mixed/female_keys.py)
- [ArWikiCats/translations/mixed/keys2.py](../ArWikiCats/translations/mixed/keys2.py)
- [ArWikiCats/translations/others/__init__.py](../ArWikiCats/translations/others/__init__.py)
- [ArWikiCats/translations/others/tax_table.py](../ArWikiCats/translations/others/tax_table.py)
- [ArWikiCats/translations/sports/Sport_key.py](../ArWikiCats/translations/sports/Sport_key.py)
- [ArWikiCats/translations/tv/films_mslslat.py](../ArWikiCats/translations/tv/films_mslslat.py)
- [_work_files/data_len.json](_work_files/data_len.json)

</details>



## Purpose and Scope

This page documents the job resolution subsystem within the ArWikiCats resolver chain. Job resolvers translate English Wikipedia categories containing occupation names into grammatically correct Arabic equivalents, handling gender agreement, nationality-occupation ordering, and specialized domains like sports jobs, religious occupations, and professional roles.

For nationality-based category resolution without job components, see [Nationality Resolvers](16.Nationality-Resolvers.md). For sports-specific categories that don't involve occupations, see [Sports Resolvers](19.Sports-Resolvers.md). For the overall resolver chain orchestration, see [Resolver Chain](#5).

---

## Job Resolution Architecture

The job resolution system operates as the fourth priority resolver in the main resolution chain (R4 in the overall architecture). It attempts to match categories after year patterns, nationalities, and country names have been tried.

### Job Resolver Execution Flow

```mermaid
graph TB
    INPUT["Category String<br/>(e.g. 'American footballers')"]

    INPUT --> ENTRY["resolve_jobs_main()"]

    ENTRY --> CHECK1{"Gender-specific<br/>pattern?"}

    CHECK1 -->|"Men's jobs"| MENS["Mens Job Resolver<br/>mens_jobs_data: 4,015"]
    CHECK1 -->|"Women's jobs"| WOMENS["Womens Job Resolver<br/>jobs_womens_data: 2,954"]
    CHECK1 -->|"Neutral"| NEUTRAL["Jobs_new: 1,285"]

    MENS --> NAT_CHECK{"NAT_BEFORE_OCC<br/>pattern?"}
    WOMENS --> NAT_CHECK
    NEUTRAL --> NAT_CHECK

    NAT_CHECK -->|"Yes"| NAT_FIRST["Nationality-First Formatting<br/>(e.g. 'American footballers'<br/>→ 'لاعبو كرة قدم أمريكيون')"]

    NAT_CHECK -->|"No"| STANDARD["Standard Formatting<br/>(e.g. 'British actors'<br/>→ 'ممثلون بريطانيون')"]

    NAT_FIRST --> FORMATTER["MultiDataFormatterBaseV2<br/>Pattern Substitution"]
    STANDARD --> FORMATTER

    FORMATTER --> GENDER_AGREE["Gender Agreement<br/>Apply male/female forms"]

    GENDER_AGREE --> OUTPUT["Arabic Label<br/>(e.g. 'لاعبو كرة قدم أمريكيون')"]

    style ENTRY fill:#f9f9f9,stroke:#333,stroke-width:2px
    style MENS fill:#e3f2fd,stroke:#333,stroke-width:1px
    style WOMENS fill:#fce4ec,stroke:#333,stroke-width:1px
    style NAT_CHECK fill:#fff3e0,stroke:#333,stroke-width:2px
```

**Sources:** ArWikiCats/new_resolvers/jobs_resolvers/__init__.py, ArWikiCats/translations/jobs/Jobs.py, ArWikiCats/translations/jobs/jobs_data_basic.py

---

## Job Data Organization

Job translation data is organized into multiple dictionaries based on gender specificity and domain specialization. The system maintains separate datasets for men's and women's occupations to ensure proper Arabic gender agreement.

### Primary Job Dictionaries

| Dictionary Name | Size | Purpose | File Location |
|----------------|------|---------|---------------|
| `jobs_mens_data` | 4,015 | Men's occupations with masculine Arabic forms | ArWikiCats/jsons/jobs/ |
| `jobs_womens_data` | 2,954 | Women's occupations with feminine Arabic forms | ArWikiCats/jsons/jobs/ |
| `Jobs_new` | 1,285 | Gender-neutral occupations | ArWikiCats/jsons/jobs/ |
| `NAT_BEFORE_OCC` | 54 | Jobs requiring nationality-first ordering | ArWikiCats/jsons/jobs/ |
| `NAT_BEFORE_OCC_JOBS` | 96 | Extended nationality-first patterns | ArWikiCats/jsons/jobs/jobs_data_basic.py |
| `RELIGIOUS_KEYS_PP` | 33 | Religious occupation translations | ArWikiCats/jsons/jobs/jobs_data_basic.py |

### Specialized Job Datasets

```mermaid
graph LR
    subgraph "Job Data Hierarchy"
        BASE["Base Job Data"]

        BASE --> GENDER["Gender-Specific"]
        BASE --> DOMAIN["Domain-Specific"]
        BASE --> PATTERNS["Pattern-Specific"]

        GENDER --> MENS["jobs_mens_data<br/>4,015 entries"]
        GENDER --> WOMENS["jobs_womens_data<br/>2,954 entries"]
        GENDER --> SHORT["short_womens_jobs<br/>485 entries"]

        DOMAIN --> SPORTS["PLAYERS_TO_MEN_WOMENS_JOBS<br/>1,345 entries"]
        DOMAIN --> RELIGIOUS["RELIGIOUS_KEYS_PP<br/>33 entries"]
        DOMAIN --> SINGERS["MEN_WOMENS_SINGERS<br/>432 entries"]

        PATTERNS --> NAT_BEFORE["NAT_BEFORE_OCC<br/>54 base patterns"]
        PATTERNS --> NAT_JOBS["NAT_BEFORE_OCC_JOBS<br/>96 extended patterns"]
        PATTERNS --> SPORT_VAR["SPORT_JOB_VARIANTS<br/>571 entries"]
    end

    style BASE fill:#f9f9f9,stroke:#333,stroke-width:2px
    style GENDER fill:#e3f2fd,stroke:#333,stroke-width:1px
    style DOMAIN fill:#fff3e0,stroke:#333,stroke-width:1px
    style PATTERNS fill:#f1f8e9,stroke:#333,stroke-width:1px
```

**Sources:** ArWikiCats/translations/__init__.py, _work_files/data_len.json, ArWikiCats/translations/jobs/Jobs.py, ArWikiCats/translations/jobs/jobs_data_basic.py, ArWikiCats/translations/jobs/jobs_players_list.py

---

## Core Job Resolver Functions

### resolve_jobs_main

The `resolve_jobs_main` function serves as the primary entry point for job category resolution. It orchestrates the resolution pipeline by attempting multiple resolver strategies in sequence.

```mermaid
graph TB
    INPUT["Category String"]

    INPUT --> MAIN["resolve_jobs_main()"]

    MAIN --> CHAIN["Resolution Chain"]

    CHAIN --> R1["resolve_languages_labels()"]
    R1 -->|"Match found"| RETURN1["Return label"]
    R1 -->|"No match"| R2["te4_2018_Jobs()"]

    R2 -->|"Match found"| RETURN2["Return label"]
    R2 -->|"No match"| R3["Lang_work()"]

    R3 -->|"Match found"| RETURN3["Return label"]
    R3 -->|"No match"| R4["resolve_jobs_internal()"]

    R4 -->|"Match found"| RETURN4["Return label"]
    R4 -->|"No match"| EMPTY["Return ''"]

    RETURN1 --> OUTPUT["Arabic Label"]
    RETURN2 --> OUTPUT
    RETURN3 --> OUTPUT
    RETURN4 --> OUTPUT
    EMPTY --> OUTPUT

    style MAIN fill:#f9f9f9,stroke:#333,stroke-width:2px
    style CHAIN fill:#fff3e0,stroke:#333,stroke-width:2px
```

### Resolution Priority Levels

The job resolver attempts multiple resolution strategies in this priority order:

1. **Language-based labels** (`resolve_languages_labels`): Handles categories like "French-language singers" or "German-language activists"
2. **Year-country-job patterns** (`te4_2018_Jobs`): Resolves categories with temporal and geographic components like "2018 British footballers"
3. **Language work patterns** (`Lang_work`): Alternative language-based job resolution
4. **Core job resolution** (`resolve_jobs_internal`): Primary job dictionary lookup using gender-specific data

**Sources:** ArWikiCats/new_resolvers/jobs_resolvers/__init__.py, ArWikiCats/make_bots/countries_names_with_sports/t4_2018_jobs.py

---

## Job Resolution with Code Mapping

This diagram maps natural language category patterns to the specific resolver functions and data dictionaries used in the codebase.

```mermaid
graph TB
    subgraph "Category Patterns to Code Entities"
        CAT1["'American footballers'"]
        CAT2["'British female actors'"]
        CAT3["'German bishops'"]
        CAT4["'French-language singers'"]

        CAT1 --> FUNC1["resolve_jobs_main()"]
        CAT2 --> FUNC1
        CAT3 --> FUNC1
        CAT4 --> FUNC1

        FUNC1 --> CHECK["Gender Detection"]

        CHECK -->|"Male"| DATA1["jobs_mens_data<br/>['footballers': 'لاعبو كرة قدم']"]
        CHECK -->|"Female"| DATA2["jobs_womens_data<br/>['actors': 'ممثلات']"]
        CHECK -->|"Religious"| DATA3["RELIGIOUS_KEYS_PP<br/>['bishops': 'أساقفة']"]
        CHECK -->|"Language"| DATA4["Lang_work()<br/>language_key_translations"]

        DATA1 --> NAT["All_Nat<br/>['american': NationalityEntry(...)]"]
        DATA2 --> NAT
        DATA3 --> NAT

        NAT --> FORMATTER1["MultiDataFormatterBaseV2<br/>'{nat} {job}' → '{job_ar} {nat_ar}'"]

        DATA4 --> FORMATTER2["FormatDataV2<br/>'{lang}-language {job}' → '{job_ar} باللغة {lang_ar}'"]

        FORMATTER1 --> OUTPUT1["'لاعبو كرة قدم أمريكيون'"]
        FORMATTER1 --> OUTPUT2["'ممثلات بريطانيات'"]
        FORMATTER1 --> OUTPUT3["'أساقفة ألمان'"]
        FORMATTER2 --> OUTPUT4["'مغنون باللغة الفرنسية'"]
    end

    style FUNC1 fill:#f9f9f9,stroke:#333,stroke-width:2px
    style DATA1 fill:#e3f2fd,stroke:#333,stroke-width:1px
    style DATA2 fill:#fce4ec,stroke:#333,stroke-width:1px
    style DATA3 fill:#fff3e0,stroke:#333,stroke-width:1px
    style DATA4 fill:#f1f8e9,stroke:#333,stroke-width:1px
```

**Sources:** ArWikiCats/new_resolvers/jobs_resolvers/__init__.py, ArWikiCats/translations/jobs/Jobs.py, ArWikiCats/translations/nats/Nationality.py, ArWikiCats/translations_formats/DataModel/model_data_v2.py

---

## NAT_BEFORE_OCC Pattern Handling

The `NAT_BEFORE_OCC` (Nationality Before Occupation) pattern system handles English categories where the nationality precedes the occupation, requiring special word order transformation in Arabic. For certain occupations, Arabic grammar prefers the occupation before the nationality, opposite to the English order.

### NAT_BEFORE_OCC Data Structure

```python
# Example entries from NAT_BEFORE_OCC
{
    "footballers": "لاعبو كرة القدم",
    "basketball players": "لاعبو كرة السلة",
    "baseball players": "لاعبو كرة القاعدة",
    "rugby players": "لاعبو الرجبي",
    "cricketers": "لاعبو الكريكيت"
}
```

### Pattern Transformation Logic

```mermaid
graph LR
    subgraph "NAT_BEFORE_OCC Processing"
        INPUT1["'American footballers'"]

        INPUT1 --> SPLIT["Split Components"]
        SPLIT --> NAT_PART["Nationality: 'American'"]
        SPLIT --> JOB_PART["Job: 'footballers'"]

        JOB_PART --> LOOKUP1["Check NAT_BEFORE_OCC<br/>Key: 'footballers'"]

        LOOKUP1 -->|"Found"| FOUND["Value: 'لاعبو كرة القدم'"]
        LOOKUP1 -->|"Not found"| STANDARD_FLOW["Use standard jobs_mens_data"]

        FOUND --> NAT_LOOKUP["All_Nat lookup<br/>'american' → NationalityEntry"]

        NAT_LOOKUP --> GENDER["Extract gender form<br/>males: 'أمريكيون'"]

        GENDER --> COMBINE["Combine: Job + Nationality"]

        COMBINE --> OUTPUT1["'لاعبو كرة القدم أمريكيون'<br/>(Job-first order)"]

        STANDARD_FLOW --> OUTPUT2["'ممثلون أمريكيون'<br/>(Standard order)"]
    end

    style LOOKUP1 fill:#fff3e0,stroke:#333,stroke-width:2px
    style FOUND fill:#f1f8e9,stroke:#333,stroke-width:2px
```

### NAT_BEFORE_OCC vs Standard Job Resolution

| Pattern Type | English Example | Arabic Output | Word Order |
|-------------|-----------------|---------------|------------|
| NAT_BEFORE_OCC | American footballers | لاعبو كرة القدم أمريكيون | Job → Nationality |
| NAT_BEFORE_OCC | German basketball players | لاعبو كرة السلة ألمان | Job → Nationality |
| Standard | British actors | ممثلون بريطانيون | Job → Nationality |
| Standard | French writers | كتاب فرنسيون | Job → Nationality |

**Note:** Both patterns result in Job→Nationality order in Arabic, but `NAT_BEFORE_OCC` entries use expanded job phrases (e.g., "لاعبو كرة القدم" instead of just "لاعبو").

**Sources:** ArWikiCats/translations/jobs/jobs_data_basic.py:7-54, ArWikiCats/new_resolvers/jobs_resolvers/mens.py, ArWikiCats/translations/nats/Nationality.py

---

## Gender-Specific Job Resolution

The job resolver implements comprehensive gender-aware translation to ensure proper Arabic gender agreement. The system maintains separate dictionaries and applies gender-specific transformations.

### Gender Detection and Routing

```mermaid
graph TB
    INPUT["Category String"]

    INPUT --> DETECT["Gender Detection Logic"]

    DETECT --> CHECK1{"Contains 'female'<br/>or 'women'?"}
    CHECK1 -->|"Yes"| FEMALE_PATH["Female Job Resolution"]
    CHECK1 -->|"No"| CHECK2{"Contains 'male'<br/>or 'men'?"}

    CHECK2 -->|"Yes"| MALE_PATH["Male Job Resolution"]
    CHECK2 -->|"No"| NEUTRAL_PATH["Neutral/Default Resolution"]

    FEMALE_PATH --> LOOKUP1["jobs_womens_data<br/>2,954 entries"]
    MALE_PATH --> LOOKUP2["jobs_mens_data<br/>4,015 entries"]
    NEUTRAL_PATH --> LOOKUP3["Jobs_new<br/>1,285 entries"]

    LOOKUP1 --> GENDER_FORM1["Apply feminine forms<br/>NationalityEntry.females"]
    LOOKUP2 --> GENDER_FORM2["Apply masculine forms<br/>NationalityEntry.males"]
    LOOKUP3 --> GENDER_FORM3["Context-dependent forms"]

    GENDER_FORM1 --> FORMAT1["MultiDataFormatterBaseV2<br/>{'{female}'} placeholder"]
    GENDER_FORM2 --> FORMAT2["MultiDataFormatterBaseV2<br/>{'{male}'} placeholder"]
    GENDER_FORM3 --> FORMAT3["Standard formatting"]

    FORMAT1 --> OUTPUT["Arabic Label<br/>with correct gender"]
    FORMAT2 --> OUTPUT
    FORMAT3 --> OUTPUT

    style DETECT fill:#fff3e0,stroke:#333,stroke-width:2px
    style LOOKUP1 fill:#fce4ec,stroke:#333,stroke-width:1px
    style LOOKUP2 fill:#e3f2fd,stroke:#333,stroke-width:1px
```

### Gender-Specific Dictionary Structure

```python
# Example from jobs_mens_data
jobs_mens_data = {
    "footballers": "لاعبو كرة قدم",
    "actors": "ممثلون",
    "writers": "كتاب",
    "politicians": "سياسيون"
}

# Example from jobs_womens_data
jobs_womens_data = {
    "footballers": "لاعبات كرة قدم",
    "actors": "ممثلات",
    "writers": "كاتبات",
    "politicians": "سياسيات"
}

# Example from short_womens_jobs (485 entries)
# Used for gender transformation: male form → female form
short_womens_jobs = {
    "لاعبو": "لاعبات",
    "ممثلون": "ممثلات",
    "كتاب": "كاتبات"
}
```

### Gender Agreement with Nationalities

When combining jobs with nationalities, the system uses `NationalityEntry` gender forms:

| Category | Job Dictionary | Nationality Form | Result |
|----------|---------------|------------------|--------|
| American footballers (male) | jobs_mens_data | NationalityEntry.males | لاعبو كرة قدم أمريكيون |
| American footballers (female) | jobs_womens_data | NationalityEntry.females | لاعبات كرة قدم أمريكيات |
| British actors (male) | jobs_mens_data | NationalityEntry.males | ممثلون بريطانيون |
| British actors (female) | jobs_womens_data | NationalityEntry.females | ممثلات بريطانيات |

**Sources:** ArWikiCats/translations/jobs/Jobs.py, ArWikiCats/translations/jobs/jobs_womens.py:9-485, ArWikiCats/new_resolvers/jobs_resolvers/mens.py, ArWikiCats/new_resolvers/jobs_resolvers/womens.py, ArWikiCats/translations/nats/Nationality.py

---

## Religious and Specialty Job Resolution

The job resolver includes specialized handling for religious occupations and other domain-specific jobs that require different translation patterns.

### Religious Jobs Processing

```mermaid
graph TB
    INPUT["Religious Category<br/>(e.g., 'German bishops')"]

    INPUT --> CHECK["Check RELIGIOUS_KEYS_PP"]

    CHECK -->|"Found"| REL_DATA["RELIGIOUS_KEYS_PP<br/>33 entries"]
    CHECK -->|"Not found"| STANDARD["Standard job resolution"]

    REL_DATA --> ENTRIES["Example entries:<br/>'bishops': 'أساقفة'<br/>'priests': 'قساوسة'<br/>'rabbis': 'حاخامات'"]

    ENTRIES --> NAT["Combine with nationality"]

    NAT --> FORMATTER["MultiDataFormatterBaseV2"]

    FORMATTER --> OUTPUT["'أساقفة ألمان'"]

    style REL_DATA fill:#fff3e0,stroke:#333,stroke-width:2px
```

### Religious Keys Structure

The `RELIGIOUS_KEYS_PP` dictionary contains 33 religious occupation translations:

```python
RELIGIOUS_KEYS_PP = {
    "bishops": "أساقفة",
    "priests": "قساوسة",
    "rabbis": "حاخامات",
    "imams": "أئمة",
    "monks": "رهبان",
    "nuns": "راهبات",
    # ... 27 more entries
}
```

### Specialty Job Categories

| Specialty Domain | Dictionary | Size | Example Keys |
|------------------|-----------|------|--------------|
| Sports Jobs | PLAYERS_TO_MEN_WOMENS_JOBS | 1,345 | "football players", "basketball players" |
| Sport Variants | SPORT_JOB_VARIANTS | 571 | "footballers", "cricketers" |
| Singers | MEN_WOMENS_SINGERS | 432 | "singers", "vocalists" |
| Religious | RELIGIOUS_KEYS_PP | 33 | "bishops", "priests", "rabbis" |

**Sources:** ArWikiCats/translations/jobs/jobs_data_basic.py:124-172, ArWikiCats/translations/jobs/jobs_players_list.py, ArWikiCats/new_resolvers/jobs_resolvers/__init__.py

---

## Job Resolver Integration Points

### Integration with Main Resolution Chain

The job resolver integrates into the main resolution chain through `resolve_label_ar()` in the following sequence:

```mermaid
graph LR
    ENTRY["resolve_label_ar()"]

    ENTRY --> R1["Year Patterns"]
    R1 -->|"No match"| R2["Nationality Resolvers"]
    R2 -->|"No match"| R3["Country Name Resolvers"]
    R3 -->|"No match"| R4["resolve_jobs_main()"]

    R4 --> INTERNAL["Job Resolution Pipeline"]

    INTERNAL --> LANG["Language-based jobs"]
    LANG --> YEAR_COUNTRY["Year-country-job"]
    YEAR_COUNTRY --> CORE["Core job dictionaries"]

    CORE --> MENS["jobs_mens_data"]
    CORE --> WOMENS["jobs_womens_data"]
    CORE --> NEUTRAL["Jobs_new"]

    R4 -->|"Match found"| RETURN["Return label"]
    R4 -->|"No match"| R5["Sports Resolvers"]

    style R4 fill:#fff3e0,stroke:#333,stroke-width:2px
    style INTERNAL fill:#f1f8e9,stroke:#333,stroke-width:1px
```

### Data Flow Through Formatters

```mermaid
graph TB
    subgraph "Job Formatting Pipeline"
        INPUT["Job + Nationality<br/>Components"]

        INPUT --> FORMATTER["MultiDataFormatterBaseV2"]

        FORMATTER --> PLACEHOLDERS["Placeholder Substitution"]

        PLACEHOLDERS --> P1["{'{job}'} → 'footballers'"]
        PLACEHOLDERS --> P2["{'{job_ar}'} → 'لاعبو كرة قدم'"]
        PLACEHOLDERS --> P3["{'{nat}'} → 'american'"]
        PLACEHOLDERS --> P4["{'{male}'} → 'أمريكيون'"]

        P1 --> PATTERN["Pattern:<br/>'{nat} {job}' →<br/>'{job_ar} {male}'"]
        P2 --> PATTERN
        P3 --> PATTERN
        P4 --> PATTERN

        PATTERN --> SUBSTITUTE["Substitute values"]

        SUBSTITUTE --> OUTPUT["'لاعبو كرة قدم أمريكيون'"]
    end

    style FORMATTER fill:#f9f9f9,stroke:#333,stroke-width:2px
    style PATTERN fill:#fff3e0,stroke:#333,stroke-width:2px
```

**Sources:** ArWikiCats/main_processers/main_resolve.py, ArWikiCats/new_resolvers/reslove_all.py, ArWikiCats/translations_formats/DataModel/model_data_v2.py

---

## Job Resolution Examples

### Example Resolution Paths

| English Category | Resolution Path | Dictionary Used | Arabic Output |
|------------------|----------------|-----------------|---------------|
| American footballers | NAT_BEFORE_OCC → jobs_mens_data | NAT_BEFORE_OCC, All_Nat | لاعبو كرة القدم أمريكيون |
| British female actors | Gender detection → jobs_womens_data | jobs_womens_data, All_Nat | ممثلات بريطانيات |
| German bishops | RELIGIOUS_KEYS_PP | RELIGIOUS_KEYS_PP, All_Nat | أساقفة ألمان |
| French-language singers | Lang_work | language_key_translations | مغنون باللغة الفرنسية |
| 2018 Brazilian footballers | te4_2018_Jobs | NAT_BEFORE_OCC, YEAR_DATA | لاعبو كرة القدم برازيليون في 2018 |

### Complex Job Category Handling

For categories with multiple components (nationality + job + time/location), the job resolver coordinates with other resolvers:

1. **Time component** extracted by year resolvers
2. **Nationality component** matched against `All_Nat` (799 entries)
3. **Job component** looked up in appropriate gender-specific dictionary
4. **Pattern formatter** combines components in correct Arabic word order
5. **Gender agreement** applied to all adjective forms

**Sources:** ArWikiCats/new_resolvers/jobs_resolvers/__init__.py, ArWikiCats/make_bots/countries_names_with_sports/t4_2018_jobs.py, changelog.md:156-188

---

## Performance and Caching

The job resolver implements caching strategies to optimize repeated lookups:

### Caching Mechanisms

| Function | Caching Method | Purpose |
|----------|---------------|---------|
| `resolve_jobs_main` | `functools.lru_cache` | Cache final resolution results |
| `load_jobs_data` | Module-level singleton | Load dictionaries once at startup |
| Formatter instances | Result memoization | Cache pattern matching results |

### Memory Footprint

Job-related data occupies approximately:
- `jobs_mens_data`: ~4,015 entries
- `jobs_womens_data`: ~2,954 entries
- `Jobs_new`: ~1,285 entries
- Supporting data (NAT_BEFORE_OCC, RELIGIOUS_KEYS_PP, etc.): ~700 entries
- **Total**: ~8,900 job translation entries loaded into memory

**Sources:** changelog.md:42, ArWikiCats/translations/jobs/, ArWikiCats/config.py2a:T4196,# Sports Resolvers

